# 추천 시스템 기본 개념



## 개념 



### 벡터

- 유클라디안 벡터, 기하학적 벡터
  - 크기와 방향을 모두 가지는 어떤 양으로 정의된다.
- C++
  - 유동적으로 크기 조절이 가능한 배열 자료 구조



### 코사인 유사도

- 내적공간 두 벡터 간 각도의 코사인 값을 이용해서 측정된 벡터간의 유사한 정도를 의미한다.
- 어떤 개수의 차원에도 적용이 가능하여 흔히 다차원의 양수 공간에서의 유사도 측정에 자주 이용된다.
  ex) 정보검색, 텍스트 마이닝
  - 단어 하나하나가 각 차우너을 구성하고 문서는 각 단어가 문서에 나타나는 회수로 표현되는 벡터값을 가진다.
    다차원 공간에서 코사인 유사도는 두 문서의 유사를 측정하는 매우 유용한 방법이다.

- ![image-20210831222813229](%EC%B6%94%EC%B2%9C%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EA%B8%B0%EB%B3%B8%20%EA%B0%9C%EB%85%90.assets/image-20210831222813229.png)
  - 벡터를 비교해서 이게 유사한지를 보는 것 1이면 유사하다고 보는 것이다.





## Collaborative filtering

> '이것을 좋아했던 다른 사람들은 또 어떤 것을 좋아하는가?'
>
> 다른 사람들이 들은 곡들을 바탕으로 어떤 곡들이 서로 비슷한지를 알아내는 방법



### user based

- concept

  1. 총 4명의 유저가 있다고 가정

  2. 이 중에서 한명에게 영화를 추천한다면?
     유저 A 가 본 영화들과 비슷한 이력을 지닌 유저 B에게서 영화를 추천해준다.

- how

  - |      | item1 | item2 | item3 | item4 | item5 |
    | ---- | ----- | ----- | ----- | ----- | ----- |
    | A    | 1     | 1     | 1     | 0     | 0     |
    | B    | 0     | 0     | 0     | 1     | 1     |
    | C    | 1     | 1     | 0     | 0     | 0     |
    | D    | 0     | 0     | 0     | 0     | 1     |

    - `1` : 좋아요 or 시청목록
    - `0` :  미 시청 or 아무것도 하지 않음

  - 우리는 이것으로 유사도를 판단할 수 있다.

    - A와 C 의 유사도 판단

      - |      | item1 | item2 | item3 | item4 | item5 |
        | ---- | ----- | ----- | ----- | ----- | ----- |
        | A    | 1     | 1     | 1     | 0     | 0     |
        | C    | 1     | 1     | 0     | 0     | 0     |

        - 1 + 1 + 0 + 0 + 0 = 2
        - 코사인 유사도 = 2 / sqrt(3) * sqrt(2) = 0.81
          **제곱근...**

      - |      | item1 | item2 | item3 | item4 | item5 | 코사인 유사도 C |
        | ---- | ----- | ----- | ----- | ----- | ----- | --------------- |
        | A    | 1     | 1     | 1     | 0     | 0     | 0.81            |
        | C    | 1     | 1     | 0     | 0     | 0     | 1               |

        - 이런 방식으로 유사도를 판단하게 되고 C 에게는 item3을 추천할 수 있다.



### item based

- |      | item1 | item2 | item3 | item4 | item5 |
  | ---- | ----- | ----- | ----- | ----- | ----- |
  | A    | 1     | 1     | 1     | 0     | 0     |
  | B    | 0     | 0     | 0     | 1     | 1     |
  | C    | 1     | 1     | 0     | 0     | 0     |
  | D    | 0     | 0     | 0     | 0     | 1     |

  - D 에게 영화를 추천해보자.
    - 만약에 item 5 와 item 4 가 유사하다는 것을 안다면??? 추천할 수 있을 것이다.

- |       | A    | B    | C    | D    | 코사인 유사도 item5 |
  | ----- | ---- | ---- | ---- | ---- | ------------------- |
  | item1 | 1    | 0    | 1    | 0    | 0                   |
  | item2 | 1    | 0    | 1    | 0    | 0                   |
  | item3 | 1    | 0    | 0    | 0    | 0                   |
  | item4 | 0    | 1    | 0    | 0    | 0.71                |
  | item5 | 0    | 1    | 0    | 1    | 1.00                |

  - 계산하는 과정은 같다.



### model : matrix factorization

> 비어있는 요소를 채우는 기술

![image-20210831230214874](%EC%B6%94%EC%B2%9C%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EA%B8%B0%EB%B3%B8%20%EA%B0%9C%EB%85%90.assets/image-20210831230214874.png)

1. 유저 x 곡 으로 표현되는 매트릭스 작성
2. 두개의 매트릭스로 나눠서 곱한다.
3. 그리하여 원래 비어있던 것을 다시 채운다.
4. 여기에서 채워진 값은 계산된 값이다.



https://lsjsj92.tistory.com/569



## contents based filtering

> 대상 자체의 특성을 바탕으로 추천하는 방법론



- 위의 경우에서 만약에 새로운 컨텐츠가 나온다면 어떻게 추천해줄 수 있을까??
  - **cold start** 문제가 생긴다.
    어떻게 해결하지??
- content based filtering
  - 각각의 특성을 컬럼으로 만든다.
    각각의 데이터가 가지고 있는 특성을 그대로 컬럼으로 넣어버린다.
  - 그렇게 해서 유지를 한다면??? 그러면 가능하다.





